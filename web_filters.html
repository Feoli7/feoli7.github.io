<!DOCTYPE html>
<!--
Created using JS Bin
http://jsbin.com

Copyright (c) 2016 by Feoli7 (http://jsbin.com/junaqu/11/edit)

Released under the MIT license: http://jsbin.mit-license.org
-->
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>MINI CURRICULUM ONLINE</title>

<style id="jsbin-css">

#teclas {
border: 5px solid black;
width: 480px;
text-align: center;  
background: grey;
}

#teclas ul {
width: 400px;
text-align: center;
background: grey;
}

#teclas li {
display: inline;
text-align: center; 
font-weight: bold;
font-size: 12px;
font-family: Verdana, Arial, Helvetica;
border-radius: 40px;
border: 5px solid black;
padding: 12px;
line-height: 40px;
margin: 5px;
background: white
}

limg{
display: inline;
text-align: center; 
font-weight: bold;
font-size: 100px;
font-family: Verdana, Arial, Helvetica;
border-radius: 40px;
border: 5px solid black;
padding: 12px;
line-height: 40px;
margin: 5px;
background: white
}

#teclas li.texto {
color: black;
}

#teclas limg:hover {
background: linear-gradient(red, green, blue);
}

#teclas li.red:hover {
background: red;
}

#teclas li.green:hover {
background: green;
}

#teclas li.blue:hover {
background: blue;
}

#teclas li.pb:hover {
color: white;
background: black;
}

#teclas li.db:hover {
background: grey;
}

#teclas li.ic:hover {
background: grey;
}

#header {
    color: white;
    background: linear-gradient(to top, black, white, black, white, black);
    text-align:center;
    padding:5px;
    font-size:30px;
    text-shadow: 5px 5px 5px grey;
}

#b1{  width: 200px;
      height: 50px;
      font-size:12px;
      font-weight: bold;
      color: white;
      background-color: black; 
      border-radius: 50px;
}

#b1:hover {
  color: black;
  background-color: #E0E0E0;
  font-size:12px;
  box-shadow: 5px 5px 5px grey;
}

#menu1{  
  background-size: 70px 50px;
  background-position: left;
  background-repeat: no-repeat;
  background: linear-gradient(to top, black, white);
  color: white;
  background-color: black;
  text-shadow: 5px 5px 5px gray }

#nav {
    line-height:30px;
    background: linear-gradient(to top, black, white);
    height:700px;
    width:200px;
    float:left;
    padding:5px; 
}

#section {
    width:350px;
    float:left;
    padding:0px; 
}

#footer {
    background: linear-gradient(to top, black, white);
    color:white;
    clear:both;
    text-align:center;
    padding:5px; 
}
</style>
</head>
<body style="margin: 0px; padding: 0px; height: 100%; width:100%;">
 
<div id="header">
<h1>MINI CURRICULUM ONLINE</h1>
</div>

<div id="nav">
</br>
<input id="b1" type="button" value="DADOS PESSOAIS" onclick="location.href= 'http://feoli7.github.io' ">
</br>
<input id="b1" type="button" value="FORMAÇÃO" onclick="location.href= 'http://feoli7.github.io/formacao' ">
</br>
<input id="b1" type="button" value="CURSOS COMPLEMENTARES" onclick="location.href= 'http://feoli7.github.io/cursos_complementares' ">
</br>
<input id="b1" type="button" value="ATIVIDADES" onclick="location.href= 'http://feoli7.github.io/atividades' ">
</br>
<input id="b1" type="button" value="EM CONSTRUÇÃO" onclick="location.href= '' ">
</div>

<div id="section">
<table width="1100" border="0"> 
<tr>
<td><h1 id="menu1" class="menu1" align="justify">&nbsp;&nbsp;&nbsp;<img src="http://feoli7.github.io/imagens/ativ.png" width="50" height="50">&nbsp;&nbsp;&nbsp;ATIVIDADE - CANVAS WEB FILTERS</h1>
<table width="1100" border="0" cellspacing="20"> 
<tr>
<td align="center">
<br><canvas id="myCanvas" width="500" height="500" style="border:5px solid #000000;"></canvas>
</td>
<td align="center">
<form name="teclado_virtual" >
  <span id="teclado" name="teclado"><p>
   <div id="teclas"><br><br><br>
    <ul>
     <limg id="img1" onClick="init(1)" class="img"><img id="img1" src="http://feoli7.github.io/imagens/001.png" width="80" height="80"></limg>
     <limg id="img2" onClick="init(2)" class="img"><img id="img2" src="http://feoli7.github.io/imagens/002.png" width="80" height="80"></limg>
     <limg id="img3"  onClick="init(3)" class="img"><img src="http://feoli7.github.io/imagens/003.png" width="80" height="80"></limg>
     </ul><br><br><br>
     <ul>
     <limg id="img4"  onClick="init(4)" class="img"><img src="http://feoli7.github.io/imagens/004.png" width="80" height="80"></limg>
     <limg id="img5"  onClick="init(5)" class="img"><img src="http://feoli7.github.io/imagens/005.png" width="80" height="80"></limg>
     <limg id="img6"  onClick="init(6)" class="img"><img src="http://feoli7.github.io/imagens/006.png" width="80" height="80"></limg>
     </ul>
    <br>
    <ul>
     <li id="red"  onClick="red()" class="red">&nbsp;&nbsp;RED&nbsp;&nbsp;</li>
     <li id="green"  onClick="green()" class="green">GREEN</li>
     <li id="blue"  onClick="blue()" class="blue">&nbsp;BLUE&nbsp;</li>
     <li id="pb"  onClick="pb()" class="pb">&nbsp;&nbsp;P&B&nbsp;&nbsp;</li>
    </ul>  
    <ul>
     <li id="db"  onClick="border()" class="db">&nbsp;BORDAS&nbsp;</li>
     <li id="ic"  onClick="sepia()" class="ic">&nbsp;&nbsp;SÉPIA&nbsp;&nbsp;</li>
     <li id="ic"  onClick="invert()" class="ic">INVERTER</li>
    </ul>
    <br>
   </div>
  </span>
  </form>
</td>
</tr>
</table>
</td>
</tr>
</table>

</div>
<div id="footer">
Copyright © feoli7.github.io
</div>
  
<script id="jsbin-javascript">
Filters = {};
var canvas = document.getElementById('myCanvas');
var ctx = canvas.getContext('2d');

Filters.tmpCanvas = document.getElementById('myCanvas');
Filters.tmpCtx = Filters.tmpCanvas.getContext('2d');

function red() {
        var imageData = ctx.getImageData(0, 0, 500, 500);
        var dataArray = imageData.data;

for(var i=0; i < dataArray.length; i+=4){
      var red   = dataArray[i];
      var green = dataArray[i+1];
      var blue  = dataArray[i+2];
      var alpha = dataArray[i+3];
      var bw = (red + green + blue)/3;
      // red
      dataArray[i] = 1*red;
      // green
      dataArray[i+1] = 0*green;
      // blue
      dataArray[i+2] = 0*blue;
      dataArray[i+3] = 1*alpha; //1*alpha;
    }
        ctx.putImageData(imageData, 0, 0);
}

function green() {
        var imageData = ctx.getImageData(0, 0, 500, 500);
        var dataArray = imageData.data;

for(var i=0; i < dataArray.length; i+=4){
      var red   = dataArray[i];
      var green = dataArray[i+1];
      var blue  = dataArray[i+2];
      var alpha = dataArray[i+3];
      var bw = (red + green + blue)/3;
      // red
      dataArray[i] = 0*red;
      // green
      dataArray[i+1] = 1*green;
      // blue
      dataArray[i+2] = 0*blue;
      dataArray[i+3] = 1*alpha; //1*alpha;
    }
        ctx.putImageData(imageData, 0, 0);
}

function blue() {
        var imageData = ctx.getImageData(0, 0, 500, 500);
        var dataArray = imageData.data;

for(var i=0; i < dataArray.length; i+=4){
      var red   = dataArray[i];
      var green = dataArray[i+1];
      var blue  = dataArray[i+2];
      var alpha = dataArray[i+3];
      var bw = (red + green + blue)/3;
      // red
      dataArray[i] = 0*red;
      // green
      dataArray[i+1] = 0*green;
      // blue
      dataArray[i+2] = 1*blue;
      dataArray[i+3] = 1*alpha; //1*alpha;
    }
        ctx.putImageData(imageData, 0, 0);
}

function pb() {
        var imageData = ctx.getImageData(0, 0, 500, 500);
        var dataArray = imageData.data;

for(var i=0; i < dataArray.length; i+=4){
      var red   = dataArray[i];
      var green = dataArray[i+1];
      var blue  = dataArray[i+2];
      var alpha = dataArray[i+3];
      var bw = (red + green + blue)/3;
      // red
      dataArray[i] = bw; //0*red;
      // green
      dataArray[i+1] = bw; //0*green;
      // blue
      dataArray[i+2] = bw; //1*blue;
      dataArray[i+3] = 1*alpha; //1*alpha;
    }
        ctx.putImageData(imageData, 0, 0);
}

 Filters.createImageData = function(w, h) {
    return this.tmpCtx.createImageData(w, h);
  };
  
Filters.convolve = function(pixels, weights, opaque) {
  var side = Math.round(Math.sqrt(weights.length));
  var halfSide = Math.floor(side/2);

  var src = pixels.data;
  var sw = pixels.width;
  var sh = pixels.height;

  var w = sw;
  var h = sh;
  var output = Filters.createImageData(w, h);
  var dst = output.data;

  var alphaFac = opaque ? 1 : 0;

  for (var y=0; y<h; y++) {
    for (var x=0; x<w; x++) {
      var sy = y;
      var sx = x;
      var dstOff = (y*w+x)*4;
      var r=0, g=0, b=0, a=0;
      for (var cy=0; cy<side; cy++) {
        for (var cx=0; cx<side; cx++) {
          var scy = Math.min(sh-1, Math.max(0, sy + cy - halfSide));
          var scx = Math.min(sw-1, Math.max(0, sx + cx - halfSide));
          var srcOff = (scy*sw+scx)*4;
          var wt = weights[cy*side+cx];
          r += src[srcOff] * wt;
          g += src[srcOff+1] * wt;
          b += src[srcOff+2] * wt;
          a += src[srcOff+3] * wt;
        }
      }
      dst[dstOff] = r;
      dst[dstOff+1] = g;
      dst[dstOff+2] = b;
      dst[dstOff+3] = a + alphaFac*(255-a);
    }
  }
  return output;
};

Filters.laplaceKernel = Filters.getFloat32Array(
  [-1,-1,-1,
   -1, 8,-1,
   -1,-1,-1]);
function bord(){
  return Filters.convolve(pixels, this.laplaceKernel, true);
};

function border() {
        var imageData = ctx.getImageData(0, 0, 500, 500);
        var data = imageData.data;
        var operator = [ 0, 1, 0, 1, 4, 1, 0, 1, 0 ];
        ctx.putImageData(bord(data), 0, 0);
}

function sepia() {
        var imageData = ctx.getImageData(0, 0, 500, 500);
        var dataArray = imageData.data;
        for(var i=0; i<dataArray.length; i+= 4){
          var red = dataArray[i];
          var green = dataArray[i+1];
          var blue = dataArray[i+2];
          dataArray[i] = dataArray[i+1] = dataArray[i+2] = 0.3*red + 0.59*green + 0.11*blue;
          dataArray[i] += 40;
          dataArray[i+1] += 20;
          dataArray[i+2] -= 20;
        }
        ctx.putImageData(imageData, 0, 0);
}

function invert() {
        var imageData = ctx.getImageData(0, 0, 500, 500);
        var data = imageData.data;

for(var i = 0; i < data.length; i += 4) {
          // red
          data[i] = 255 - data[i];
          // green
          data[i + 1] = 255 - data[i + 1];
          // blue
          data[i + 2] = 255 - data[i + 2];
        }
        ctx.putImageData(imageData, 0, 0);
}

function drawImage(imageObj) {
        var canvas = document.getElementById('myCanvas');
        var ctx = canvas.getContext('2d');
        ctx.clearRect(0,0,500,500);
        ctx.drawImage(imageObj, 0, 0);

        var imageData = ctx.getImageData(0, 0, imageObj.width, imageObj.height);
        var data = imageData.data;

        ctx.putImageData(imageData, 0, 0);
}

function init(i){      
        var imageObj = new Image();
        //imageObj.onload = function() {drawImage(this);};
        if (i == 1)      { imageObj.src="http://feoli7.github.io/imagens/001.png"; } 
        else if (i == 2) { imageObj.src="http://feoli7.github.io/imagens/002.png"; } 
        else if (i == 3) { imageObj.src="http://feoli7.github.io/imagens/003.png"; } 
        else if (i == 4) { imageObj.src="http://feoli7.github.io/imagens/004.png"; } 
        else if (i == 5) { imageObj.src="http://feoli7.github.io/imagens/005.png"; } 
        else if (i == 6) { imageObj.src="http://feoli7.github.io/imagens/006.png"; }
        else {}
          imageObj.onload = function() {drawImage(this);};
};


</script>
</body>
</html>